/**
TODO: load image
load imge as material textue
load material
load prefab ( http://answers.unity3d.com/questions/212266/how-to-instantiate-a-prefab-that-resides-on-a-web.html )
*/

using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;


public class WebURLTest : MonoBehaviour {

    String json = @"{    ""html_attributions"" : [],    ""results"" : [       {          ""geometry"" : {             ""location"" : {                ""lat"" : -33.867591,                ""lng"" : 151.201196             }          },          ""icon"" : ""https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png"",          ""id"" : ""a97f9fb468bcd26b68a23072a55af82d4b325e0d"",          ""name"" : ""Australian Cruise Group"",          ""opening_hours"" : {             ""exceptional_date"" : [],             ""open_now"" : true,             ""weekday_text"" : []          },          ""photos"" : [             {                ""height"" : 2448,                ""html_attributions"" : [                   ""\u003ca href=\""https://maps.google.com/maps/contrib/118410684014024830328/photos\""\u003eMichael Mak\u003c/a\u003e""                ],                ""photo_reference"" : ""CoQBdwAAADTT8iOb6LvLf-q-_2Fepe_RdDqe14KT9tZoLcUjxNemZI5d7b0xFH3rF71vb85PpsfVWB3WfZV2LEyDZyDj498dmzJ6tua0k8gTGWS8pLD2qqD68wI_FfLr_tLjznv-ZnamrO4iynCP5ZN-GniGZWtInza5ryOvM8uuhqEOcVzCEhCdAS1OcBjwL1zr3yk-6JCsGhQb1FxD8q_HneEiw844Ujg1TUI3jA"",                ""width"" : 3264             }          ],          ""place_id"" : ""ChIJrTLr-GyuEmsRBfy61i59si0"",          ""rating"" : 4.6,          ""reference"" : ""CmRRAAAAl7Hg5EW-SOKZbiHpa3kj9Lmvx6ErqJxZxnVAJPHjONgX3CHh1cjSyKgMce94mX9pw5OMBMU-Xhlx06-taOkGcaPfbyYAXvM1Up6IXi0nfAGBBY0GQAWM9uErSgL7XbOJEhBsz8sTAsGNeQdy09k0mmpSGhRzVkNJ0oEY5x7uSnoaJkSBl5u2bw"",          ""scope"" : ""GOOGLE"",          ""types"" : [             ""travel_agency"",             ""restaurant"",             ""food"",             ""point_of_interest"",             ""establishment""          ],          ""vicinity"" : ""32 The Promenade, King Street Wharf 5, Sydney""       },       {          ""geometry"" : {             ""location"" : {                ""lat"" : -33.86755700000001,                ""lng"" : 151.201527             },             ""viewport"" : {                ""northeast"" : {                   ""lat"" : -33.86752310000001,                   ""lng"" : 151.2020721                },                ""southwest"" : {                   ""lat"" : -33.8675683,                   ""lng"" : 151.2013453                }             }          },          ""icon"" : ""https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png"",          ""id"" : ""ce4ffe228ab7ad49bb050defe68b3d28cc879c4a"",          ""name"" : ""Sydney Showboats"",          ""opening_hours"" : {             ""exceptional_date"" : [],             ""open_now"" : true,             ""weekday_text"" : []          },          ""photos"" : [             {                ""height"" : 900,                ""html_attributions"" : [                   ""\u003ca href=\""https://maps.google.com/maps/contrib/105231077511067622688/photos\""\u003eChristie and Matt Snapshots of Food\u003c/a\u003e""                ],                ""photo_reference"" : ""CoQBdwAAAE4bHBDDa6_Ql_y6q2iskqZbdkgNdf87iZ4qkYESILqBbrcB8_M9tq4Cqh4EpOGT2xw-HgrFImF47F9Wmp5uO8fJzv0_0tUYik2xhTm5T6IPPBxl16MhhlXzOazWv4gW3w5FHKB_uDKwbx0-zbmqyFJ-Ljh-5RfZcU-Zd6-OQeOPEhDmFhdQ63TsrVqt5FBgWL7xGhRkbxn9n0Q_eEMr63a8wofGeRjrvg"",                ""width"" : 1600             }          ],          ""place_id"" : ""ChIJjRuIiTiuEmsRCHhYnrWiSok"",          ""rating"" : 3.9,          ""reference"" : ""CmRSAAAAJDacSlCMvrncwLd3e7vjw_DVvK1p4fQ0g0egFDGjXAsAQjagR-B7WS_C0tkyIfPH-C5tYdV6kziy8ghu9R8umr-PkwjWuyRq3WVkNnthl1ovOkACxuYES0wbsU3mF-WkEhDa7fcUhAKlSDEVVAV2eAmJGhSxCuSzz8G4NquxKTQv_fGUYxD-VA"",          ""scope"" : ""GOOGLE"",          ""types"" : [             ""travel_agency"",             ""restaurant"",             ""food"",             ""point_of_interest"",             ""establishment""          ],          ""vicinity"" : ""32 The Promenade, Sydney""       },       {          ""geometry"" : {             ""location"" : {                ""lat"" : -33.87104699999999,                ""lng"" : 151.189736             },             ""viewport"" : {                ""northeast"" : {                   ""lat"" : -33.87034785000001,                   ""lng"" : 151.1909486                },                ""southwest"" : {                   ""lat"" : -33.87128004999999,                   ""lng"" : 151.1893318                }             }          },          ""icon"" : ""https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png"",          ""id"" : ""3458f23c154e574552e0722773a46f384816b241"",          ""name"" : ""Vagabond Cruises"",          ""opening_hours"" : {             ""exceptional_date"" : [],             ""open_now"" : true,             ""weekday_text"" : []          },          ""photos"" : [             {                ""height"" : 1200,                ""html_attributions"" : [                   ""\u003ca href=\""https://maps.google.com/maps/contrib/101516907347198229066/photos\""\u003eVagabond Cruises\u003c/a\u003e""                ],                ""photo_reference"" : ""CoQBdwAAAHq7ZQSH7O4d7lu4tkfHSxSdydeilI2Zv8FL1hqM9HN81A6koAWxVRkd7wMkMjFxXDsQ7N515UBAhTmipWHA95XtRTijn67F6t4pLU-7ZfUgLXLkZ1j_QpnehDQ0ui9JmEig3ChiSstTqpf0wedotLUg4-TWLVrE9wKpick8XQRLEhClsg0mdMm5oyf8UgmM7RbFGhTvq0w-0FTsDkLolnc4uVqU4QkJQg"",                ""width"" : 1800             }          ],          ""place_id"" : ""ChIJLfySpTOuEmsRMFymbMkVkOE"",          ""rating"" : 3.7,          ""reference"" : ""CmRSAAAArEkp7fXmrxlfCgjPE5i1NlLU0XmW7wwPq6OMEV96w9C2jGz_Md1JRu-9edgJsMcbHIDH7TiMtIugAu1X3kmueWkP4opAhUVwnkALOFVaKI_hd4BfR11i9r-h0M8STusmEhD0Nfc8Iq2dIevRyrfr4gvzGhQgSHqZwY8eZHnKP3YgEzsNM-LVHQ"",          ""scope"" : ""GOOGLE"",          ""types"" : [             ""travel_agency"",             ""restaurant"",             ""food"",             ""point_of_interest"",             ""establishment""          ],          ""vicinity"" : ""37 Bank Street, Pyrmont""       },       {          ""geometry"" : {             ""location"" : {                ""lat"" : -33.8686058,                ""lng"" : 151.2018206             },             ""viewport"" : {                ""northeast"" : {                   ""lat"" : -33.8684986,                   ""lng"" : 151.2021284                },                ""southwest"" : {                   ""lat"" : -33.8689274,                   ""lng"" : 151.201718                }             }          },          ""icon"" : ""https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png"",          ""id"" : ""21a0b251c9b8392186142c798263e289fe45b4aa"",          ""name"" : ""Rhythmboat Cruises"",          ""photos"" : [             {                ""height"" : 480,                ""html_attributions"" : [                   ""\u003ca href=\""https://maps.google.com/maps/contrib/104066891898402903288/photos\""\u003eRhythmboat Cruises\u003c/a\u003e""                ],                ""photo_reference"" : ""CoQBdwAAANvumRfwmK95gHbPvw097Pak8i_aeHOeeHCjgovH1iReLLDNn1Ia3bIIXhUJhyPCJEgT342WH-8cVVmP3H9Fjqium_1e0bv4hanMPPnxTj-kRVKI331aAbnqHBjZHKVFhvQD6RH8C8n_w8LKba7DW8_bCp94ExmdbL4j_M7sRyqLEhC-k7OYxmd_N8x1GapQeYMzGhTDAg5ov81mzupaNSJmIX4Q4GLgdw"",                ""width"" : 640             }          ],          ""place_id"" : ""ChIJyWEHuEmuEmsRm9hTkapTCrk"",          ""rating"" : 3.8,          ""reference"" : ""CmRSAAAA4SYtM-BB8G5cdvsE0iPuErMKg-JjUKIqAqmE8Y9vsTlswIsI812_kKKCIHaX3GO6hN2Cl8k8OotihYFWbQBxgFQQ2QLlY17rfwsg0dTMeojpP7_CGPR7zSiuA73xi1szEhBF67xwSRGelxHTcwGUyRdwGhTcgAS5Q_6l6Z6YmWmfd6WFr2f0PA"",          ""scope"" : ""GOOGLE"",          ""types"" : [             ""travel_agency"",             ""restaurant"",             ""food"",             ""point_of_interest"",             ""establishment""          ],          ""vicinity"" : ""King Street Wharf, King Street, Sydney""       },       {          ""geometry"" : {             ""location"" : {                ""lat"" : -33.8709434,                ""lng"" : 151.1903114             },             ""viewport"" : {                ""northeast"" : {                   ""lat"" : -33.87039755,                   ""lng"" : 151.1906561                },                ""southwest"" : {                   ""lat"" : -33.87112535000001,                   ""lng"" : 151.1901965                }             }          },          ""icon"" : ""https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png"",          ""id"" : ""e644f7f34cf875b9919c6548f1b721947362850a"",          ""name"" : ""Lunch Cruise with Jazz on Sydney Harbour"",          ""opening_hours"" : {             ""exceptional_date"" : [],             ""open_now"" : true,             ""weekday_text"" : []          },          ""photos"" : [             {                ""height"" : 292,                ""html_attributions"" : [                   ""\u003ca href=\""https://maps.google.com/maps/contrib/105423912060796272053/photos\""\u003eLunch Cruise with Jazz on Sydney Harbour\u003c/a\u003e""                ],                ""photo_reference"" : ""CoQBdwAAABQzATleDw75Rdpz9Pjfimoak-fA2zfbakpU6w8zoP0agHp0AG16AoPy5L1J-jOQQESmBxzg3Oy6DIlXzyr2vuozCt8fSil07yZaMwtGyNpJ81kSfDy2GRPepdQw7Pw-Y1KV5UHM6Z9NC2dRtaaeEP5rtlAfKCHN3klePvKj4Dj-EhDfpbVmqVWn61rOLpTDCdcsGhQY9Fp7wRJ_8BkGQBIKCc1yu7PA-w"",                ""width"" : 438             }          ],          ""place_id"" : ""ChIJLfySpTOuEmsRPCRKrzl8ZEY"",          ""rating"" : 3,          ""reference"" : ""CmRRAAAAjj4uW6314QRt_4zmzLVNW1XfdNXWRrd8d4aqKdl4OAgNLmgsTxcLP0O4jEjFCDgpwd1EdPOpt2v_74fSKjCkjVu3M4HJP52wBzW9TvDqZ7ZUVF4EwE6iEHSezKCNaVGcEhBs1cv1hO0fqffBU1rGGdCNGhRRltfVyfS-Bcxpk9zH-CvNaSNgGg"",          ""scope"" : ""GOOGLE"",          ""types"" : [             ""night_club"",             ""bar"",             ""restaurant"",             ""food"",             ""point_of_interest"",             ""establishment""          ],          ""vicinity"" : ""37 Bank Street, Pyrmont""       },       {          ""geometry"" : {             ""location"" : {                ""lat"" : -33.8671207,                ""lng"" : 151.2016385             }          },          ""icon"" : ""https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png"",          ""id"" : ""c620902a8565dd4c4d605fecbe4f9b585d881b62"",          ""name"" : ""Blue Line Cruises"",          ""place_id"" : ""ChIJvwSIiTiuEmsR8hEazPa4W7U"",          ""reference"" : ""CmRSAAAAX4sBFTTbz9cR2c8zj_RjCjdkj3gNT1aG22B2VtVbtEp6qYCNwi18vAjz71w_Ff_-NsUNLohu5zKWCSWbcUZbwyKnC1lTUe_Xju41e35TUvt_dkSr8QhOc8gVv1lkillDEhClrjnTP6PCU0NT8xNKJybDGhQS4Br8MSVdlMQLmUlZwEb-LWVOLg"",          ""scope"" : ""GOOGLE"",          ""types"" : [ ""restaurant"", ""food"", ""point_of_interest"", ""establishment"" ],          ""vicinity"" : ""Australia""       }    ],    ""status"" : ""OK"" }";
	// Use this for initialization
	void Start () {
        //Done and working
        //StartCoroutine(TestHttpRequest());
        PlacesList placesList = JsonUtility.FromJson<PlacesList>(json);
        print(placesList.results[0].ToString());
    }

    IEnumerator TestHttpRequest()
    {
        WWW httpRequest = new WWW("https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=-33.8670,151.1957&radius=500&types=food&name=cruise&key=AIzaSyDu1kBkNL-TKHsZiJdFwaaIEvJv_vbbCyA");
        yield return httpRequest;
        print(httpRequest.text);
        PlacesList placesList = JsonUtility.FromJson<PlacesList>(httpRequest.text);
        print(placesList.status);
    }

    // Update is called once per frame
    void Update () {
		
	}
}
